<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Broiler Pallah & Piece Calculator</title>
<style>
 body{font-family:Arial;margin:20px;}
 input{padding:8px;margin:5px;}
 button{padding:10px 20px;margin:10px 0;}
 table{width:100%;border-collapse:collapse;margin-top:20px;}
 table,th,td{border:1px solid #444;}
 th,td{padding:10px;text-align:center;}
 td[contenteditable="true"]{background:#f7f7f7;}
</style>
</head>
<body>

<h2>Broiler Weight, Pallah & Piece Calculator</h2>

<input type="number" id="weightInput" placeholder="ওজন লিখুন (কেজি)" />
<button onclick="addEntry()">যোগ করুন</button>

<table>
<thead>
<tr>
<th>সিরিয়াল</th>
<th>ওজন (কেজি)</th>
<th>মুরগির সংখ্যা (পিস)</th>
</tr>
</thead>
<tbody id="dataTable"></tbody>
</table>

<h3>মোট ওজন: <span id="totalWeight">0</span> কেজি</h3>
<h3>মোট মুরগি: <span id="totalPieces">0</span> পিস</h3>

<button onclick="window.print()">PDF / Print</button>

<script>
let serial = 0;

function addEntry(){
  let w = document.getElementById("weightInput").value;
  if(w === "" || w == 0) return;

  w = parseFloat(w);
  serial++;

  let pieces = w < 0 ? -10 : 10;

  let row = document.createElement("tr");
  row.innerHTML = `
    <td>${serial}</td>
    <td contenteditable="true" oninput="recalculate()">${w}</td>
    <td contenteditable="true" oninput="recalculate()">${pieces}</td>
  `;

  document.getElementById("dataTable").appendChild(row);

  recalculate();

  document.getElementById("weightInput").value = "";
}

function recalculate(){
  let rows = document.querySelectorAll("#dataTable tr");

  let totalW = 0;
  let totalP = 0;

  rows.forEach(r=>{
    let w = parseFloat(r.children[1].innerText) || 0;
    let pcs = parseInt(r.children[2].innerText) || 0;

    totalW += w;
    totalP += pcs;
  });

  document.getElementById("totalWeight").innerText = totalW.toFixed(2);
  document.getElementById("totalPieces").innerText = totalP;
}
</script>

</body>
</html>
